import{a as T}from"./chunks/chunk.QJIFYSCB.js";import{a as g}from"./chunks/chunk.Z4KOFCDY.js";import{a as n,d as a}from"./chunks/chunk.VAKME65J.js";import{g as u}from"./chunks/chunk.4GMQEBIT.js";n();a();var l=u(g()),y=u(T());n();a();var f=u(g()),d=class extends f.Sentry.Transports.FetchTransport{sendEvent(o){return super.sendEvent(o)}};window.Sentry=l.Sentry;var s=(0,y.default)(window),I=/\/(\d+\.\d+\.\d+)\/?$/;function h(e){let o=e.match(I);return o?o[1]:void 0}var P=(e,o,t,p)=>({numberOfPages:e.siteHeader?.pagesCount,revision:e.siteHeader?.revision,geo:e.geo,editorVersion:o,metaSiteId:e.metaSiteId,isDesktopEditor:!0,isMobileEditor:!1,esi:e.editorSessionId,editorLoaded:!1,isPreview:!1,isAppStudio:p!==void 0,ds:t.origin,isNewBundle:!!t.isNewBundle}),B=e=>({runningExperiments:e.runningExperiments,isPublished:e.siteHeader?.published}),D=e=>(e.exception?.values?.[0]?.stacktrace?.frames??[]).filter(t=>t&&typeof t.filename=="string").some(t=>t.filename.includes("wixCode")||t.filename.includes("wix-code")),M=(e="")=>e.includes("play() failed because the user didn't interact with the document first")||e.includes("The play() request was interrupted by a call to pause()"),v=()=>{let{editorModel:e,loggerModel:o,appStudioModel:t,serviceTopology:p}=window,w=e.editorBase??(p.scriptsLocationMap["santa-editor"]||""),S=h(w),x=s.isParameterTrue("force-enable-sentry")||!s.isParameterTrue("suppressbi")&&!s.isParameterTrue("isqa")&&!s.getParameterByName("EditorSource")&&!s.getParameterByName("santa-editor-override"),m="c04dc4376590135234ec465ef302dac124e705201ac8a2dd3421edde",E=m?`santa-editor@${m}`:void 0,b="https://f432f47cfde34ebc9d320d006a71c57e@sentry-next.wixpress.com/7163";l.Sentry.init({dsn:b,environment:"production",release:E,transport:d,autoSessionTracking:!0,enabled:x,ignoreErrors:["ResizeObserver loop limit exceeded"]}),l.Sentry.configureScope(i=>{i.setTags(P(e,S,o,t)),i.setExtras(B(e)),i.setUser({id:e.permissionsInfo?.loggedInUserId,roles:e.permissionsInfo?.loggedInUserRoles}),i.addEventProcessor((r,c)=>M(typeof c?.originalException=="string"?c.originalException:c?.originalException?.message)?null:(r.extra={...r.extra,biHistoryUrl:`https://bo.wix.com/bi-ux/#/history?timezone=0&fields=date_created,src,evid,evid_desc,error_type,error_info,tags,extra,error_context,origin,uuid,msid,esi,dm_version,os_name,browser_family,browser_name,app_name,country_code&uuid=${e.permissionsInfo.ownerId}&start=${String(Date.now()-4*6e4)}&stop=${String(Date.now()+4*6e4)}&wql=msid%3D%22${e.metaSiteId}%22&order=asc&levels=1,2,3,4`},r.tags=r.tags||{},D(r)&&(r.tags={...r.tags,"wix-code-error":!0},r.fingerprint=(r.fingerprint||[]).concat(["wix-code-error"])),r.tags.hasOwnProperty("whiteScreenOfDeath")&&(r.fingerprint=["{{ default }}","whiteScreenOfDeath"]),r))})};v();
//# sourceMappingURL=__error-reporter-init__.L4YKBN6G.js.map
