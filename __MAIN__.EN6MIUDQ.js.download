import{a as ce,b as pe,c as de,d as be,e as fe,f as ge}from"./chunks/chunk.URTFOWX6.js";import{a as se}from"./chunks/chunk.JAX5V4XA.js";import{a as Ao}from"./chunks/chunk.TSRZBLBJ.js";import{a as re,b as le}from"./chunks/chunk.HZMVDHV7.js";import{a as j,b as W}from"./chunks/chunk.C32BGVP5.js";import{Eb as ae,j as ie,m as ne}from"./chunks/chunk.ZK6KHX3P.js";import{a as _o}from"./chunks/chunk.J7ISPTD3.js";import{h as Ro}from"./chunks/chunk.OCOXCIZX.js";import{a as oe}from"./chunks/chunk.QJIFYSCB.js";import{a as te}from"./chunks/chunk.FKRTMXRD.js";import"./chunks/chunk.Z4KOFCDY.js";import{a,d as r}from"./chunks/chunk.VAKME65J.js";import{c as Lo,d as y,g as k,i as N}from"./chunks/chunk.4GMQEBIT.js";var me=Lo(()=>{});var he=y((Dt,ue)=>{a();r();me();ue.exports={}});var ve=y((Ut,xe)=>{a();r();Ao();xe.exports={}});var ye=y((Gt,ke)=>{"use strict";a();r();function Mo(e){return typeof e>"u"?"undefined":e}function we(e,o,t){return Mo(e).replace(o,t)}ke.exports=function(){for(var o=arguments[0],t=1;t<arguments.length;++t)o=we(o,/\/$/,"")+"/"+we(arguments[t],/^\//,"");return o}});var He=y(_=>{"use strict";a();r();Object.defineProperty(_,"__esModule",{value:!0});_.default=void 0;var So=/(\d)+\.(\d)+\.(\d)+/,Fo=/^(\d)+\.(\d)+\.(\d)+$/,Bo=/^[0-9a-f]{40}$/,Eo=function(o){return Fo.test(o)||Bo.test(o)};function Po(e,o){return e&&Eo(o)?e.replace(So,o):e}var Co=Po;_.default=Co});var Ne=y(I=>{"use strict";a();r();Object.defineProperty(I,"__esModule",{value:!0});I.default=Io;var To=jo(He());function jo(e){return e&&e.__esModule?e:{default:e}}function Io(e,o){return o.split(",").filter(Boolean).forEach(function(t){var i=t.split(":"),n=(0,To.default)(e[i[0]],i[1]);n&&e[i[0]]!==n&&(e[i[0]]=n)}),e}});var We=y(D=>{"use strict";a();r();Object.defineProperty(D,"__esModule",{value:!0});D.default=Do;function Do(e){function o(i){try{var n="testStorage".concat(Date.now()),l=e[i];l.setItem(n,n);var s=l.getItem(n);if(l.removeItem(n),s===n)return!0}catch{}return!1}var t;return o("localStorage")?t=e.localStorage:o("sessionStorage")?t=e.sessionStorage:t={setItem:function(){},getItem:function(){},removeItem:function(){}},{save:function(n,l){t.setItem(n,l)},load:function(n){return t.getItem(n)},remove:function(n){t.removeItem(n)}}}});var qe=y(X=>{"use strict";a();r();Object.defineProperty(X,"__esModule",{value:!0});X.default=ft;function De(e,o){return bt(e)||dt(e,o)||pt()}function pt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function dt(e,o){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]"){var t=[],i=!0,n=!1,l=void 0;try{for(var s=e[Symbol.iterator](),c;!(i=(c=s.next()).done)&&(t.push(c.value),!(o&&t.length===o));i=!0);}catch(b){n=!0,l=b}finally{try{!i&&s.return!=null&&s.return()}finally{if(n)throw l}}return t}}function bt(e){if(Array.isArray(e))return e}function ft(e,o,t,i){var n=new RegExp("^(".concat(t,":)(.*)|(.*)$")),l={};Object.keys(e).forEach(function(u){l[u]=e[u]});var s=function(p){var w=De(p,2),g=w[0],m=w[1];l[g]=m},c=function(p){return p.replace(n,"$2")},b=function(p){return p.split(";").map(c).filter(Boolean).join(",")},f=function(p,w){var g=o.getParameterByName(p,i);g.indexOf(":")!==-1&&(g=b(g)),g.split(",").filter(Boolean).map(function(m){return[m,w]}).forEach(s)},h=function(){o.getParameterByName("".concat(t,"exp"),i).split(",").filter(Boolean).map(function(p){return p.split(":")}).map(function(p){var w=De(p,2),g=w[0],m=w[1];return[g,m||"new"]}).forEach(s)};return f("experiments","new"),f("experimentsoff","old"),h(),l}});var Ge=y((Tn,Xe)=>{"use strict";a();r();var Oe=new WeakMap;function Ue(e){var o=e&&(e.rendererModel||e.editorModel)||{},t=o.runningExperiments,i=t===void 0?{}:t;return i}function gt(e){return Object.keys(e).reduce(function(o,t){return o[t.toLowerCase()]=e[t],o},Object.create(null))}function Ye(e,o){var t=Ue(o),i=t[e];if(i!==void 0)return i;var n=Oe.get(t);return n||(n=gt(t),Oe.set(t,n)),n[e.toLowerCase()]}function Ve(e,o){var t=Ye(e,o);return!!(t&&t!=="old"&&t!=="false")}Xe.exports={getRunningExperiments:Ue,isMultiValueExperimentOpen:Ve,isOpen:Ve,getValue:Ye}});var Ze=y((Dn,$e)=>{"use strict";a();r();var E=Ge();function mt(e){return{getRunningExperiments:function(t){return E.getRunningExperiments(t||e)},isOpen:function(t,i){return E.isOpen(t,i||e)},getValue:function(t,i){return E.getValue(t,i||e)},isMultiValueExperimentOpen:function(t,i){return E.isMultiValueExperimentOpen(t,i||e)}}}$e.exports={build:mt}});var uo=y((fr,St)=>{St.exports={versions:{"@juggle/resize-observer":"3.2.0","@sentry/browser":"6.19.7","@types/wcag-contrast":"3.0.0","@webcomponents/custom-elements":"1.6.0","@wix/add-panel-common":"2.0.83","@wix/add-panel-component":"2.0.192","@wix/adi-content-api":"1.3131.0","@wix/adi-core-types":"1.3000.59","@wix/adi-preset-api":"1.3342.0","@wix/ambassador":"4.0.588","@wix/ambassador-app-service-webapp":"3.0.2310","@wix/ambassador-data-services-profile-client-v4-profile-field-data":"1.0.4","@wix/ambassador-data-v1-data-service":"1.0.94","@wix/ambassador-dealer-offer-events-service":"1.0.57","@wix/ambassador-dealer-offers-serving-service":"1.0.140","@wix/ambassador-devcenter-app-market-listing-v1-market-listing":"1.0.73","@wix/ambassador-devcenter-appmarket-v1-tag-app":"1.0.43","@wix/ambassador-devcenter-apps-v1-app":"1.0.512","@wix/ambassador-devcenter-apps-v1-app-version":"1.0.60","@wix/ambassador-devcenter-market-apps-v1-market-app":"1.0.53","@wix/ambassador-devcenter-marketplace-v1-web-solution":"1.0.48","@wix/ambassador-devcenter-v1-app":"1.0.40","@wix/ambassador-devcenter-v1-component":"1.0.416","@wix/ambassador-emails-email-marketing-v1-fake-mailchimp-service-entity":"1.0.0","@wix/ambassador-genie-v1-compose":"1.0.19","@wix/ambassador-genie-v1-image-recommendation":"1.0.5","@wix/ambassador-iam-connection-v1-connection":"1.0.24","@wix/ambassador-identity-account-v2-account":"1.0.85","@wix/ambassador-identity-infra-v1-token":"1.0.39","@wix/ambassador-media-media-manager-color-extractor-v1-colors":"1.0.18","@wix/ambassador-members-v1-default-privacy":"1.0.41","@wix/ambassador-members-v1-member-privacy-settings":"1.0.36","@wix/ambassador-mobile-v1-branded-app":"1.0.125","@wix/ambassador-multilingual-sitetranslator-v2-site-translatable-properties":"1.0.38","@wix/ambassador-predictor-prime-service":"3.0.108","@wix/ambassador-premium-features-manager-v1-feature":"1.0.58","@wix/ambassador-promote-ascend-utils-service-v1-utils":"1.0.10","@wix/ambassador-site-apps-server":"1.0.113","@wix/ambassador-stores-catalog-v1-product":"1.0.467","@wix/ambassador-wix-atlas-service-web":"1.0.189","@wix/animations-kit":"1.201.0","@wix/api-debug-tools":"1.0.0","@wix/app-definition-ids":"1.0.54","@wix/app-studio-code-parser":"1.0.0","@wix/background-media-utils":"1.45.0","@wix/bi-logger-blocks":"1.1869.0","@wix/bi-logger-blocks-consumption":"1.25.0","@wix/bi-logger-blocks-data":"1.56.0","@wix/bi-logger-components-data":"1.19.0","@wix/bi-logger-editor":"1.4028.0","@wix/bi-logger-editor-data":"1.329.0","@wix/bi-logger-editor-platform":"1.33.0","@wix/chat-service-sdk":"1.335.0","@wix/chat-widget-common-widgets":"1.326.0","@wix/chat-widget-ui-lib":"2.248.0","@wix/cms-web-premium-helpers":"1.55.0","@wix/color-picker":"1.671.0","@wix/common-widget-types":"1.14.0","@wix/css-gradient-generator":"1.104.0","@wix/data-capsule":"2.287.0","@wix/deeplink-core":"1.1393.0","@wix/deeplink-editor":"1.1398.0","@wix/design-system":"1.129.0","@wix/discovery-client":"1.2.3","@wix/duplexer-js":"1.0.741","@wix/editor-add-panel":"1.0.0","@wix/editor-component-data-resolver":"1.0.0","@wix/editor-component-types":"1.0.0","@wix/editor-content-injector":"1.0.0","@wix/editor-content-provider":"1.0.0","@wix/editor-elements-design-panel-params":"1.73.0","@wix/editor-elements-panel":"1.303.0","@wix/editor-elements-preview-utils":"1.1988.0","@wix/editor-elements-registry":"1.6460.0","@wix/editor-elements-types":"1.2672.0","@wix/editor-error-reporter":"1.0.0","@wix/editor-kits":"1.0.0","@wix/editor-loader-spinner":"1.0.0","@wix/editor-organize-images":"1.0.0","@wix/editor-platform-host-integration":"1.4008.0","@wix/editor-platform-host-integration-apis":"1.1692.0","@wix/editor-prediction-utils":"1.0.0","@wix/editor-search-ui":"1.0.168","@wix/editor-site-generator":"1.0.0","@wix/editor-utility-layout-transforms":"1.11.116","@wix/effects-kit":"1.232.0","@wix/fedops-logger":"5.508.0","@wix/feedback-loop":"1.45.0","@wix/focal-point-input":"1.122.0","@wix/http-client-testkit":"1.711.0","@wix/image-kit":"1.88.0","@wix/installation-manager-client-sdk":"1.827.0","@wix/locale-dataset-javascript":"1.60.0","@wix/media-frame":"1.708.0","@wix/media-image-booster":"0.54.0","@wix/media-image-studio-opener":"3.303.0","@wix/media-manager-kit":"1.157.0","@wix/media-manager-sdk":"1.0.0","@wix/media-platform-js-client":"1.0.0","@wix/motion-effects-panels":"1.306.0","@wix/multilingual-languages-utils":"2.50.0","@wix/multilingual-words-counter":"1.3.0","@wix/platform-editor-sdk":"1.4098.0","@wix/santa-animations":"1.495.0","@wix/santa-browser-detection":"1.448.0","@wix/santa-core-utils":"1.2722.0","@wix/santa-ds-libs":"1.1073.0","@wix/santa-editor-symbols":"1.0.0","@wix/santa-editor-utils":"1.0.0","@wix/santa-external-modules":"1.644.0","@wix/santa-host-platform-services":"1.737.0","@wix/santa-main-r":"1.1597.0","@wix/santa-multilingual":"1.1157.0","@wix/santa-platform-utils":"1.1408.0","@wix/santa-welcome-screen":"2.1440.0","@wix/stylable-panel":"3.225.0","@wix/stylable-panel-common":"3.43.0","@wix/stylable-panel-controllers":"3.125.0","@wix/stylable-panel-drivers":"3.53.0","@wix/stylable-santa-flatten":"4.0.6","@wix/text-mask-panels":"1.574.0","@wix/thumbnail-generator":"3.0.236","@wix/thunderbolt-fonts":"1.0.31","@wix/tour-maker":"2.0.166","@wix/video-maker-opener":"2.0.17","@wix/web-bi-logger":"2.0.993","@wix/wix-base-ui":"4.150.1","@wix/wix-code-classic-editor":"1.1138.0","@wix/wix-code-editor-adapter":"1.359.0","@wix/wix-code-external-apis":"1.263.0","@wix/wix-code-platform":"1.1097.93","@wix/wix-data-connector-settings-client":"1.0.398","@wix/wix-data-platformized-client":"2.0.777","@wix/wix-data-schema-types":"2.0.20","@wix/wix-elementory-globals":"5.0.133","@wix/wix-json-schema-utils":"1.133.0","@wix/wix-richtext":"4.3.0","@wix/wix-santa":"1.12170.0","@wix/wix-ui-icons-common":"3.50.0","ab-translate":"1.2.1",codemirror:"5.58.3","create-react-class":"15.7.0","date-fns":"2.30.0","date-fns-tz":"2.0.0",fastdom:"1.0.12",gsap:"1.19.0","hoist-non-react-statics":"3.3.2",i18next:"21.10.0","image-client-api":"1.4060.0","jest-canvas-mock":"2.5.2",jquery:"2.2.4",jszip:"2.6.1","jszip-utils":"0.0.2",lodash:"4.17.21","lottie-react":"2.4.0",mobx:"3.3.3","mobx-react":"4.2.2",nanoid:"3.3.1","node-fetch":"2.7.0",process:"0.11.10","prop-types":"15.8.1",qrcode:"1.4.4",react:"16.13.1","react-addons-linked-state-mixin":"15.6.2","react-addons-pure-render-mixin":"15.6.2","react-contenteditable":"3.3.7","react-custom-scroll":"3.2.2","react-dnd":"10.0.2","react-dnd-html5-backend":"10.0.2","react-dom":"16.13.1","react-dom18":"18.2.0","react-i18next":"11.18.6","react-markdown":"8.0.7","react-query":"3.39.3","react-redux":"7.2.9","react-string-replace":"1.1.1","react-transition-group":"2.4.0",react18:"18.2.0",redux:"4.2.1","redux-thunk":"2.3.0",repluggable:"1.302.52",reselect:"4.0.0","scss-root-selectors":"1.0.0",seedrandom:"2.4.3",tslib:"2.7.0","ua-parser-js":"1.0.36","wcag-contrast":"3.0.0","wix-style-react":"10.170.1",zepto:"1.2.0","zepto-node":"1.0.0","santa-langs":"1.38685.0"}}});a();r();var Pr=k(he()),Cr=k(ve());a();r();var ho=k(oe()),xo=k(ye()),vo=k(Ne()),wo=k(We()),Q=k(te());import"trigger-importmap-shim";a();r();a();r();var z=class extends Error{constructor(t,{code:i,originalError:n}){super(t);N(this,"code");N(this,"message");this.name=this.constructor.name,this.code=i,this.message=`${i?`${i}. ${t}`:`${t}`} `,n&&n instanceof Error&&(this.stack=n.stack,this.message+=`
  - Original error message: ${n.message}`)}};a();r();a();r();a();r();async function ze(){if(!("ResizeObserver"in window)){let e=await import("./chunks/resize-observer.CRLWJ3KJ.js");window.ResizeObserver=e.ResizeObserver}Math.sign||(Math.sign=function(e){return e=+e,e===0||isNaN(e)?e:e>0?1:-1}),Array.prototype.toSorted||(Array.prototype.toSorted=function(e){if(typeof e<"u"&&typeof e!="function")throw new TypeError(`The comparison function must be either a function or undefined: ${e}`);return[...this].sort(e)})}async function q({fedopsLogger:e},o){e.appLoadingPhaseStart("main-chunk-load-main-packages"),await ze(),e.appLoadingPhaseStart("main-chunk-load-rEditor");let t=await import("./chunks/rEditor.HCHY36VY.js").catch(i=>{throw console.error(i),new z("Failed to load @/rEditor",{code:"EditorBootstrap_LoadPackagesError",originalError:i})});return e.appLoadingPhaseFinish("main-chunk-load-rEditor"),e.appLoadingPhaseFinish("main-chunk-load-main-packages"),typeof window.__editorMainJsLoadedCb=="function"&&window.__editorMainJsLoadedCb(),{rEditor:t}}async function Le({editorLoggers:e,editorModel:o,editorParams:t,editorPermissions:i,editorBaseHooks:n},l){let s=e.fedops.logger,{rEditor:c}=await q({fedopsLogger:s,editorModel:o},l),b;try{s.appLoadingPhaseStart("editor-build-app"),b=await c.editorMain.build({editorParams:t,editorLoggers:e,editorPermissions:i,editorBaseHooks:n}),s.appLoadingPhaseFinish("editor-build-app")}catch(u){throw new z("Failed to build editor",{code:"EditorBootstrap_EditorBuildAppError",originalError:u})}let f=()=>{};if(l.shouldRender)try{s.appLoadingPhaseStart("editor-render-app"),{unmount:f}=c.editorMain.render(b),s.appLoadingPhaseFinish("editor-render-app")}catch(u){throw new z("Failed to render editor",{code:"EditorBootstrap_EditorRenderAppError",originalError:u})}return{builtEditor:b,clean:()=>f()}}a();r();a();r();a();r();var M=k(Ro());var Oo="editor-performance",Vo="EDITOR";function Uo(e){return e.siteCreationWizard?"Editor2.0 wizard":""}var Ae=({biLoggerModel:e,editorParams:o,options:t})=>{let i=o.isDacRollout?1:0,n=(0,M.factory)({publishMethod:M.PublishMethods.Auto,useBatch:t.useBatch}).withUoUContext({msid:o.metaSiteId,visitorId:o.esi,siteMemberId:()=>e.siteMemberId}).updateDefaults({is_rollout:e.is_rollout,is_dac_rollout:i,open_method:Uo(o),isTabDuplicated:o.isTabDuplicated,origin:e.origin,type:"none",ts:()=>Math.round(window.performance.now())});return{logger:se(e.fedOpsAppName,{endpoint:Oo,isServerSide:!1,biLoggerFactory:n,phasesConfig:"SEND_ON_FINISH",metasiteId:o.metaSiteId,presetType:Vo,paramsOverrides:{is_rollout:e.is_rollout,is_dac_rollout:i},useBatch:t.useBatch}),updateDefaults:s=>{n.updateDefaults(s)}}};a();r();var Se=k(_o());a();r();var S="editor",Re="trg";a();r();a();r();function F(e){let o=new RegExp(`(?:^|\\W)${e}s*=([^;]*)`),t=window.document.cookie.match(o);return t?t[1].trim():null}function _e(e){let o=(i,n)=>{typeof i=="number"&&(i={evid:i});let l=i.endpoint||S;return e.log({src:i.src||38,evid:i.evid,...n},{endpoint:l})};return{event:o,error:(i,n)=>{let l={recoverable:10,warning:20,error:30,fatal:40},s={evid:10,endpoint:i.endpoint||Re},c={errn:i.errorName,errc:i.errorCode,sev:l[i.severity]||i.severity,cat:1,iss:1,ut:F("userType")||void 0,...n};return o(s,c)}}}a();r();var Yo=e=>{let o="6e51b1b9-0fa7-42df-9637-771a4543f4f4";return{isSiteCreation:e.originalTemplateId===o||e.siteCreationWizard,isSg:re(e.originalTemplateId),isSection:e.isSectionsExperienceEnabled,workspace_mode:"FULL"}},Xo=()=>{let e=F("bSession");if(!e)return{};let[o,t]=e.split("|");return{browsing_session:o,bsiPageNumber:t,bsi:e}},Me=({editorModel:e,editorParams:o})=>{let{editorBase:t,permissionsInfo:i}=e;return{ownerId:i?.ownerId,uuid:i?.loggedInUserId,roles:i?.loggedInUserRoles.map(l=>l.role).join(","),esi:o.esi,is_rollout:o.isRollout,is_dac_rollout:o.isDacRollout?1:0,viewerName:o.viewerName,editor_version:t.split("/").pop()||t,ts:()=>Math.round(Date.now()-(window.mainLoaded||0)),msid:o.metaSiteId,site_id:o.siteId,...Xo(),...Yo(o)}};function Go(e,o){let t={};return Object.keys(e).forEach(i=>{t[i]=o(e[i],i)}),t}var $o=15*1024,Fe=({editorModel:e,editorParams:o,options:{useBatch:t}})=>{let i=Me({editorModel:e,editorParams:o}),n=(0,Se.factory)({endpoint:S,useBatch:t}).withTransformer(s=>Go(s,(c,b)=>{if(typeof c=="object"&&c!==null)try{c=JSON.stringify(c)}catch(f){c="<NOT_SERIALIZABLE>",console.error(`BI param is not sent due to serialization error, paramName: ${b}, evid: ${s.evid}, errMsg: ${f.message}`)}return typeof c=="string"&&c.length>$o&&(c="<TOO_LONG>",console.error(`BI param is not sent due to hard limit, paramName: ${b}, evid: ${s.evid}`)),c})).setMuted(!o.isBiErrorsAndFedopsEnabled).updateDefaults({src:38,...i}),l=n.logger();return{logger:l,loggerLegacy:_e(l),_initialDefaults:i,updateDefaults:s=>{n.updateDefaults(s)}}};var V=({editorParams:e,editorModel:o={},biLoggerModel:t={},options:i})=>({bi:Fe({editorModel:o,editorParams:e,options:i}),fedops:Ae({biLoggerModel:t,editorParams:e,options:i})});a();r();a();r();a();r();var Zo=["mobileHidden","mobileBackground","mobileSiteSettingsPanel","mobileElements","mobileLayoutOptimizer"];function Ko(e){for(let o of Object.keys(e))if(o.toLowerCase()==="openpanel")return e[o];return null}function Qo(e){return e?.split(".",1)[0]?.toLowerCase()}function Jo(e){return Zo.map(o=>o.toLowerCase()).includes(e)}function Be(e){let o=Ko(e),t=Qo(o);return t==="mobile"||Jo(t)}a();r();function et(e){return Object.keys(e).map(o=>`${encodeURIComponent(o)}=${e[o]==null?"":e[o]}`).join("&")}var B=class{constructor(o,t){N(this,"params");N(this,"_base");this._base=o,this.params=t||{}}base(o){return this._base=o,this}param(o,t){return this.params[o]=t,this}ifParam(o,t,i){return o?this.param(t,i):this}paramsObj(o){return this.params={...this.params,...o},this}url(){let o=et(this.params);return o&&(o=`?${o}`),this._base+o}};var ot=/\/([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12})/,Ee=()=>window.appStudioModel,tt=()=>Ee()?.devSiteAppDefId,Pe=()=>Ee()!==void 0;function it(){return Pe()?"appBuilder":"Editor1.4"}var nt=["metaSiteId","ReactSource","BoltSource","BoltDsSource","viewerSource","DmSource","SantaVersions","baseVersion","boltTag","isqa","editorSessionId","layoutMechanism","experiments","experimentsoff","experimentsOff","viewerexp","suppressbi","WixCodeRuntimeSource","sampleratio","hot","dsQTrace","autosaveRestore","disableSave","debugApp","closeSectionGaps","editorSdkSource","editorPlatformAppSources","viewerPlatformAppSources","PlatformContainerSource","PlatformContainerHttp","esi","configName","wixCodeForceKibanaReport","overridePlatformBaseUrls","viewerPlatformOverrides","ooiInEditorOverrides","editorScriptUrlOverride","tpaWidgetUrlOverride","tpaMobileUrlOverride","tpaSettingsUrlOverride","widgetsUrlOverride","branchId","schemaDevMode","editorScriptHot","forceAutosave","forceAutoSave","isReadOnly","untilTransactionId","bobViewerScriptOverride","appRevisionOverride","sectionPromptVersionOverride","sectionParamsVersionOverride","initialSeed"];function at(e){let o=e.match(ot);return o?.length&&o[1]}function Ce({serviceTopology:e,editorLocation:o,editorModel:t,experiment:i}){let n=e.editorServerRoot||"http://editor.wix.com/html/editor/web",l=`${n}/renderer/render/`,s=`${l}document/`,c=`${l}template/`,b=`${n}/renderer/new?`,h=o.href.indexOf(b)===0?c:s,u=new URL(o.href),p={};u.searchParams.forEach((x,R)=>{p[R]=x}),p.debug=p.debug==="editor"?"":p.debug,p.editorSessionId=t.editorSessionId,p.esi=t.editorSessionId,t.branchId&&(p.branchId=t.branchId);let w=Object.keys(p).find(x=>x.toLowerCase()==="showmobileview"),g={};Object.keys(p).forEach(x=>{(x.endsWith("-override")||nt.includes(x))&&(g[x]=p[x])});let m=new B(h+(p.siteId||at(o.href))).param("isEdited","true").param("isEditor","true").param("isSantaEditor","true").param("dsOrigin",it()).param("enableScopes",!0).ifParam(p.controllersUrlOverride,"controllersUrlOverride",p.controllersUrlOverride).ifParam(p.debugViewer,"debug",p.debugViewer).ifParam(p.disablePlatform,"disablePlatform",p.disablePlatform).ifParam(p.disablePlatformApps,"disablePlatformApps",p.disablePlatformApps).ifParam(p.petri_ovr,"petri_ovr",p.petri_ovr).ifParam(i.isOpen("wixstaff"),"iswixsite","true").ifParam(w||Be(p),"showMobileView","true").ifParam(p.localServerPort,"localServerPort",p.localServerPort).ifParam(p.corvidSessionId,"corvidSessionId",p.corvidSessionId).ifParam(p.shouldSkipLocalModeEncoding,"shouldSkipLocalModeEncoding",p.shouldSkipLocalModeEncoding).ifParam(p.migrationId,"migrationId",p.migrationId).ifParam(p.appDefinitionId,"appDefinitionId",p.appDefinitionId).ifParam(p.branchId,"branchId",p.branchId).ifParam(t.siteMetaData?.renderHints?.isClassicSectionsSite,"experience","editor2").param("lang",t.languageCode).paramsObj(g);if(Pe()){let x=tt();m.ifParam(x,"firstSaveExtraPayload",JSON.stringify({devSiteAppDefId:x})),m.param("configName","appStudio").param("applicationStudio","open")}else m.param("configName","fullFunctionality");return m.param("languages",p.languages),m.url()}function rt(e,o){o.parentNode.insertBefore(e,o)}function Te({previewUrl:e}){return new Promise(o=>{let t=!1,i=l=>{t||(window.removeEventListener("message",n),o(l))},n=l=>{if(e.indexOf(l.origin)===0&&l.data==="documentServicesLoaded"){i(l.source);return}if(e.indexOf(l.origin)===0&&l.data==="mobileConversionFailed_ReloadNeeded"){t=!0,window.location.href=`${window.location.href}&autosaveRestore=false`;return}};window.addEventListener("message",n)})}function lt(e){let o;return()=>(o===void 0&&(o=e()),o)}var st=({fedopsLogger:e})=>{let o=document.querySelector('#preview,[name="preview-frame"]');if(!o)return!1;if(e.appLoadingPhaseStart("editor-init-stage"),e.appLoadingPhaseStart("editor-load-viewer"),e.appLoadingPhaseStart("editor-load-document-service"),window.__previewFrameData)return!0;let t=o.getAttribute("src"),i=Te({previewUrl:t});return window.__previewFrameData={frameUrl:t,loadedPromise:i,mountAndGetFrame:()=>o},!0},je=({experiment:e,editorModel:o,serviceTopology:t,fedopsLogger:i})=>{if(st({fedopsLogger:i}))return;let l=Ce({editorLocation:window.document.location,editorModel:o,serviceTopology:t,experiment:e}),s=Te({previewUrl:l}),b=lt(()=>{let f=document.getElementById("root"),h=document.createElement("iframe");return h.setAttribute("src",l),h.setAttribute("id","preview"),h.setAttribute("allowfullscreen","true"),rt(h,f),i.appLoadingPhaseStart("editor-init-stage"),i.appLoadingPhaseStart("editor-load-viewer"),i.appLoadingPhaseStart("editor-load-document-service"),h});window.__previewFrameData={frameUrl:l,loadedPromise:s,mountAndGetFrame:b}};a();r();function U(e,o){e.identify(o.editorSessionId,{userId:o.permissionsInfo.loggedInUserId,userAgent:window.navigator.userAgent,screenHeight:window.screen.height,screenWidth:window.screen.width})}a();r();a();r();function Ie(e){let o=window.performance;!o||!o?.setResourceTimingBufferSize||(o.onresourcetimingbufferfull?o.setResourceTimingBufferSize(e.isDebug?1e3:300):o.onresourcetimingbufferfull=(()=>{let t=150;return()=>{t*=2,o.setResourceTimingBufferSize(t)}})())}function ct({requirejs:e,window:o,bi:t}){let i=function(l,s,c){i=function(){};let b=Array.prototype.slice.call(arguments,3).reduce((f,h,u)=>(f["p"+(u+1)]=h,f),{});t.error({errorName:l,errorCode:s,severity:c},b)},{onerror:n}=o;if(o.onerror=function(l,s,c,b,f){let h=f?.stack?`${f.stack}`:s,{href:u}=o.location;if(i("JAVASCRIPT_ERROR",111022,"fatal",l,h,u),n)return n.apply(this,arguments)},o.console){let{error:l}=console;l&&(console.error=function(...s){let{href:c}=o.location;return i("CONSOLE_ERROR",111023,"error",c,...s),l.apply(this,s)})}e&&(e.onError=function(l){if(l.message?.indexOf&&l.message.indexOf('Module name "js-beautify" has not been loaded yet')===0)return;let{requireModules:s=[],message:c,stack:b,errn:f="REQUIREJS_ERROR",errc:h=111024,severity:u="fatal",requireType:p}=l,w=s.join(";"),g=b?""+b:c,{href:m}=o.location;i(f,h,u,g,w,m,p)})}function Y({window:e,requirejs:o,queryUtil:t,editorLoggers:i,editorModel:n,editorParams:l}){n=n||{};let{editorVersion:s}=n;e.performance?.mark("main-r loaded"),Ie(l);let c=i.bi.loggerLegacy;e.bi=c;let b=t.isParameterTrue("bi"),f=s&&!l.isDebug&&l.isBiErrorsAndFedopsEnabled;(b||f)&&ct({window:e,requirejs:o,bi:c})}a();r();a();r();var Qe=k(qe()),Je=k(Ze()),eo=k(oe());a();r();function Ke(){return typeof window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS!="string"||window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS.length===0?{}:Object.fromEntries(window.LARGE_NUMBER_OF_OPEN_EXPERIMENTS.split(",").map(e=>[e,"new"]))}var oo=(0,eo.default)(window);function ut(){return(0,Qe.default)({},oo,"editor")}var{editorModel:A}=window;A&&(A.runningExperiments={...A.runningExperiments,...Ke(),...ut()},A.languageCode=oo.getParameterByName("lang")||A.languageCode);var to=Je.default.build(window);var L=to;a();r();var P=class{constructor({permissions:o}={}){N(this,"store");this.store=new Set(o)}has(o){if(!o)throw new TypeError('Parameter "permissionName" not provided');return this.store.has(o)}};a();r();function io({fedopsLogger:e}){return o=>{e.reportErrorThrownOncePerFlow();let t=e._getFlowsOfError?.()||[],[i,n,l]=t;return o.tags={...o.tags,fedopsInteractionOrPhase:i,fedopsInteractionOrPhase2:n,fedopsInteractionOrPhase3:l},o.extra={...o.extra,fedopsInteractionsOrPhases:t},o}}a();r();a();r();a();r();var no=new Set([]);var ht=50,xt=({experiment:e,editorModel:o})=>{let t=e.isOpen("se_sectionsMigration")||e.isOpen("se_sectionsMigrationEditor"),i=o.isDraft,n=no.has(o.siteHeader.originalTemplateId);return t&&i&&!n||e.isOpen("se_sectionsForceMigration")},vt=({experiment:e,editorModel:o,queryUtil:t})=>o.onboardingEditorUrl&&t.isParameterTrue("onboarding")&&t.isParameterTrue("sectionsMigration")||e.isOpen("se_sectionsMigrationEditor")&&o.onboardingEditorUrl&&t.isParameterTrue("onboarding")||e.isOpen("se_sectionsForceMigrationADI"),wt=({experiment:e,editorModel:o,queryUtil:t})=>{let{permissionsInfo:i}=o;return(i&&i.ownerId===i.loggedInUserId||e.isOpen("se_sectionsMigrationNonOwner")||t.isParameterTrue("forceSectionsMigration"))&&(e.isOpen("se_sectionsMigrationEditor")||t.isParameterTrue("forceSectionsMigration"))},kt=({experiment:e,editorModel:o,queryUtil:t})=>o.siteHeader.pagesCount>=ht&&e.isOpen("se_heavySitesMigrationLoader")||t.isParameterTrue("forceSectionsMigration"),ao=({experiment:e})=>e.isOpen("se_perPageSectionsMigration"),yt=({experiment:e,editorModel:o})=>e.isOpen("se_sectionsMigrationDisableImpersonate")?!1:o.isImpersonated;function ro({isInsideEditorX:e,isInsideAppStudio:o,experiment:t,editorModel:i,queryUtil:n}){let l=yt({experiment:t,editorModel:i});if(o||e||t.isOpen("se_kill_sections")||l)return;let s;switch(!0){case xt({experiment:t,editorModel:i}):s="template";break;case vt({experiment:t,editorModel:i,queryUtil:n}):ao({experiment:t})?s="perPage_adi":s="adi";break;case wt({experiment:t,editorModel:i,queryUtil:n}):ao({experiment:t})?s="perPage_editor":kt({experiment:t,editorModel:i,queryUtil:n})?s="heavySite":s="editor";break}return s}a();r();var so="editorTabDuplicateIndex";function Ht(e){let o=!1,t=null;return function(){return o||(o=!0,t=e(...arguments)),t}}function Nt(){return parseInt(sessionStorage.getItem(so)||"0",10)}function lo(e){sessionStorage.setItem(so,String(e))}function co(){let e=Nt(),o=e>0;return lo(e+1),window.onunload=window.onbeforeunload=Ht(()=>{lo(e)}),{isTabDuplicated:o}}a();r();a();r();a();r();a();r();var Wt=1e3;function G(e,o){let t=e();function i(f){t.postMessage(f)}function n(){i({action:"Init",initConfig:o})}function l(){i({action:"Alive"})}function s(){i({action:"Pause"})}function c(){i({action:"Resume"})}n(),l();let b=setInterval(l,Wt);return{pause:s,resume:c,destroy(){clearInterval(b),t.terminate()}}}var zt=[10*1e3,30*1e3,60*1e3];function po(e,{editorBaseHooks:o,biDefaults:t,editorParams:i}){if(i.isInsideEditorX)return;let n=be(t,c=>typeof c!="function"),l=i.debugOptions.includes("healthcheck"),s=G(e,{reportConfig:{timeouts:zt,logObject:ne(n)},debug:l});l&&import("./chunks/initHealthCheckMonitor.AG7UWYZA.js").then(({initHealthCheckMonitor:c})=>{c()}),o.tabChanged.tap(({isCurrentTabActive:c})=>{c?s.resume():s.pause()}),o.siteCreationCreatePresets.tap(({isCreatePresetsInProgress:c})=>{c?s.pause():s.resume()})}a();r();function bo({editorLoggers:e,editorBaseHooks:o}){window.addEventListener("visibilitychange",function(){let t=!document.hidden;o.tabChanged.fire({isCurrentTabActive:t}),e.bi.logger.report(ie({actionName:t?"suspend":"activate"}))})}a();r();a();r();var go=k(te());a();r();var Lt="0.0.9",fo=({editorParams:e,experiment:o,queryUtil:t})=>{if(e.sectionsMigrationFlow==="perPage_editor"||e.sectionsMigrationFlow==="perPage_adi")return!0;let n=t.isParameterTrue("forceSectionsMigration"),l=o.isOpen("se_heavySitesMigrationLoader"),s=e.sectionsMigrationFlow==="heavySite"||e.sectionsMigrationFlow==="editor",c=e.sectionsMigrationFlow==="adi"&&t.getParameterByName("migrationTrigger")==="reminder",b=e.sectionsMigrationVersion!==Lt;return(n||l)&&(s||c)&&b};function $({editorParams:e,editorBaseHooks:o,experiment:t,fedopsLogger:i,biLogger:n,queryUtil:l,loadI18n:s}){let c=()=>{ge()};return fo({editorParams:e,experiment:t,queryUtil:l})?(c(),_t({editorBaseHooks:o,editorParams:e,loadI18n:s,biLogger:n})):e.sectionsMigrationFlow==="editor"&&!t.isOpen("se_heavySitesMigrationLoader")?(c(),Rt({editorBaseHooks:o,loadI18n:s})):!e.isInsideEditorX&&!e.isInsideAppStudio&&!e.siteCreationWizard&&!e.siteGenerationWizard&&e.isSectionsExperienceEnabled?(c(),Mt({editorBaseHooks:o,fedopsLogger:i,loadI18n:s})):At()}var C=()=>{let e=window.document.getElementById("video-preloader");return{element:e,remove:()=>e?.parentNode?.removeChild(e)}};function At(){let e=C();return{unmount:()=>{e.remove()}}}function Rt({editorBaseHooks:e,loadI18n:o}){let t=C(),i=import("./chunks/sectionMigrationInitialLoader.OEERT2NW.js").then(({mountLoader:n})=>n({loadI18n:o,editorBaseHooks:e}));return{unmount:()=>{i.then(({unmount:n})=>{n()}),t.remove()}}}function _t({editorBaseHooks:e,loadI18n:o,biLogger:t,editorParams:i}){let n=C(),l=import("./chunks/heavySitesMigrationLoader.YMMIDBZC.js").then(({mountLoader:s})=>s({editorBaseHooks:e,loaderContainer:n.element,loadI18n:o,biLogger:t,flow:i.sectionsMigrationFlow}));return{unmount(){window.__IS_MIGRATION_FAILED__?setTimeout(()=>{l.then(({unmount:s})=>{s()}),n.remove()},7e3):(l.then(({unmount:s})=>{s()}),n.remove())}}}function Mt({editorBaseHooks:e,fedopsLogger:o,timelineMode:t,loadI18n:i}){let n=C(),l=c=>{go.ErrorReporter.captureException(c,{tags:{operation:"progressive-initial-loader"}})};o.appLoadingPhaseStart("main-chunk-init-initial-loader");let s=import("./chunks/progressiveInitialLoader.DEVMBG2B.js").then(async({mountLoader:c})=>c({timelineMode:t,timelinePendingPhases:{"leftBar.original":e.editorBuildAndRender.promise},loaderContainer:n.element,reportError:l,loadI18n:i}));return s.then(()=>{o.appLoadingPhaseFinish("main-chunk-init-initial-loader")},c=>{l(c)}),{unmount(){s.then(({unmount:c})=>{c()}),n.remove()}}}a();r();var mo=()=>({tabChanged:j(),siteCreationCreatePresets:j(),editorBuildAndRender:W(),createInstallAppsHooks:W(),wizardFinish:W(),sectionsMigrationStarted:W(),sectionsMigrationReady:W(),UNSTABLE_sectionsMigrationFailedOnHomePage:W(),isSiteCreationUiVisible:W()});a();r();a();r();function Z(e,o){let t=new Blob([e],{type:"text/javascript"}),i=URL.createObjectURL(t),n=new Worker(i,o);return URL.revokeObjectURL(i),n}function K(){return Z('var C=Object.defineProperty,b=Object.defineProperties;var E=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var g=(e,o,t)=>o in e?C(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,s=(e,o)=>{for(var t in o||(o={}))w.call(o,t)&&g(e,t,o[t]);if(m)for(var t of m(o))I.call(o,t)&&g(e,t,o[t]);return e},c=(e,o)=>b(e,E(o));var l={post(e){fetch(e,{method:"POST"})}};var u={log(e){let o=new URLSearchParams(e.params);o.set("src",String(e.src)),o.set("evid",String(e.evid)),l.post(`https://frog.wix.com/${e.endpoint}?${o.toString()}`)}};var a=e=>Math.round(e/1e3),h=e=>console.log(`%c [${a(performance.now())}s] ${e}`,"color: green;"),p=e=>console.log(`%c [${a(performance.now())}s] ${e}`,"color: red;");var i,n,f=!1;function k(e){if(!(e!=null&&e.reportConfig))throw new Error("`MessageAction.Init` is sent without `reportConfig`");i=e}function L({timeout:e,logObject:o}){if(f)return;p(`Main thread health check timeout: ${e}\nApplication is probably frozen.`);let t=self.performance?Math.round(self.performance.now()):0;u.log(c(s({},o),{params:c(s({},o.params),{timeout:e,ts:t})}))}function v(){if(!i||!i.reportConfig)throw new Error("Health check worker is not initialized with config.\\nEnsure worker initialized with `reportConfig`.");let e=Date.now(),{timeouts:o,logObject:t}=i.reportConfig;if(n==null||n.forEach(r=>{clearTimeout(r)}),n=o.map(r=>setTimeout(L,r,{timeout:r,logObject:t})),i.debug){h("health check: \\u{1F49A}");let r=2e3;n.push(setTimeout(()=>{p(`health check: \\u{1F6A9} (${a(Date.now()-e)}s since alive)`)},r))}}function A(){f=!0}function _(){f=!1}self.onmessage=e=>{switch(e.data.action){case"Init":k(e.data.initConfig);break;case"Alive":v();break;case"Pause":A();break;case"Resume":_();break;default:throw new Error(`Unknown worker event action: ${e.data.action}`)}};\n',{name:"healthCheck.worker.ts"})}var{versions:Ft}=uo(),v=(0,ho.default)(window);window.joinURL=xo.default;window.queryUtil=v;window.persistent=(0,wo.default)(window);window.identifyForFullStory=U;function Bt(e){let o={};return Object.keys(e).forEach(t=>{o[t]=e[t].replace(/\/$/,"")}),o}window.serviceTopology.scriptsLocationMap=Bt(window.serviceTopology.scriptsLocationMap);window.customRenderSite!==void 0&&window.customRenderSite();var ko=e=>{window.name=`editor-${e}`};window.name||ko(window.editorModel.metaSiteId);window.addEventListener("beforeunload",()=>{window.name="",setTimeout(ko.bind(null,window.editorModel.metaSiteId),1e3)});function Et(){let e=/1\.\d+\.\d+/g;window.serviceTopology.scriptsLocationMap["santa-langs"]=window.serviceTopology.scriptsLocationMap["santa-langs"].replace(e,Ft["santa-langs"]),window.serviceTopology.scriptsLocationMap=(0,vo.default)(window.serviceTopology.scriptsLocationMap,v.getParameterByName("scriptsLocations"))}var Pt=e=>/^(https?:)?\/\/localhost|local.wix.com($|[/:])/.test(e);async function yo(e){let o=mo();try{return await Ct(e,o)}catch(t){o.editorBuildAndRender.reject(t),console.error(t),Q.ErrorReporter.captureException(t,{extra:Ho(),tags:{failedToLoadEditor:!0,operation:"editor-bootstrap"}})}}function Ho(){try{let e=HTMLScriptElement.supports,o=!!(e&&e.name==="supports"&&e("importmap")),t=document.querySelector('script[type="importmap"]'),i=document.querySelector('script[type="importmap-shim"]'),n=!!t;return{supportsImportMaps:o,hasNativeImportMap:n,hasImportMapShim:!!i,esmShimPolyfillTriggered:!o&&n,userAgent:navigator.userAgent}}catch(e){return{getErrorExtraError:e?.message}}}async function Ct(e,o){let{shouldBiErrorsAndFedops:t}=e;window.afterEditorPrefetch=!1;let{loggerModel:i,editorModel:n,appStudioModel:l,serviceTopology:s}=window,{isTabDuplicated:c}=co(),b=e.isInsideEditorX,f=l!==void 0;if(f&&!b&&L.isOpen("se_appBuilderSunset")){location.replace("https://www.wix.com/blocks/app-builder-sunset");return}let h=le({isInsideEditorX:b,isInsideAppStudio:f,editorModel:n,experiment:L}),u=h?void 0:ro({isInsideEditorX:b,isInsideAppStudio:f,editorModel:n,experiment:L,queryUtil:v}),p=v.getParameterByName("debug")||localStorage?.getItem("editor-debug"),w=p?p.split(","):[],g={isInsideEditorX:b,isInsideAppStudio:f,isSectionsExperienceEnabled:h,sectionsMigrationFlow:u,sectionsMigrationVersion:n.siteHeader.migrationVersion,baseUIOverrides:de(v.getParameterByName("baseUIOverrides")),appsToInstall:fe("appsToInstall"),isLocal:Pt(v.getParameterByName("EditorSource")),isDebug:!!p,debugOptions:w,isQA:v.isParameterTrue("isqa"),siteGenerationWizard:v.getParameterByName("siteGenerationWizard")==="true"&&n.isSiteCreationEligible,siteCreationWizard:v.getParameterByName("siteCreationWizard")==="true"&&n.isSiteCreationEligible,originalTemplateId:n.siteHeader.originalTemplateId,isTestRunner:v.isParameterTrue("istestrunner"),isBiErrorsAndFedopsEnabled:!v.isParameterTrue("suppressbi")&&t,isRollout:!!i.is_rollout,isDacRollout:i.is_dac_rollout,shouldMeasureFrameRate:e.measureFrameRate,viewerName:i.origin,esi:n.editorSessionId,siteId:n.siteHeader?.id,metaSiteId:n.metaSiteId||i.metaSiteId,isTabDuplicated:c};n&&(n.languageCode=v.getParameterByName("lang")||n.languageCode,n.editorVersion=ce(n.editorBase),n.editorBase=n.editorBase.replace(/\/$/,""));let m=V({biLoggerModel:i,editorParams:g,editorModel:n,options:{useBatch:!0}}),x=m.fedops.logger,R=m.bi.logger;if(window.__editor_bi_loggers__=m.bi,window.EDITOR_EXPERIMENT_MODULE=L,po(()=>K(),{editorBaseHooks:o,biDefaults:m.bi._initialDefaults,editorParams:g}),Q.ErrorReporter._addEventProcessor(io({fedopsLogger:x})),window.mainLoaded=Date.now(),x.appLoadingPhaseStart("main-chunk"),Et(),je({experiment:L,editorModel:n,editorParams:g,serviceTopology:s,fedopsLogger:x}),Y({window,requirejs:void 0,queryUtil:v,editorLoggers:m,editorModel:n,editorParams:g}),bo({editorLoggers:m,editorBaseHooks:o}),pe({editorLoggers:m}),n){let{performance:H}=window,ee=H?H.navigation:void 0,zo=ee?ee.type:void 0;R.report(ae({navigationType:zo,jsHeapSizeLimit:JSON.stringify(Ho())}))}let J=()=>import("json!langs").then(H=>H.default),T=$({editorParams:g,editorBaseHooks:o,experiment:L,fedopsLogger:x,biLogger:R,queryUtil:v,loadI18n:J});window.initialLoader=T,g.siteGenerationWizard&&await import("./chunks/siteGeneration.TCK6V5QM.js").then(async({startSiteGenerationWizard:H})=>await H({editorBaseHooks:o,loadI18n:J,unmountInitialLoader:T.unmount,fedopsLogger:x,isDebugMode:g.isDebug})),g.siteCreationWizard&&await import("./chunks/siteCreation.KPHAL4D2.js").then(({renderSiteCreation:H})=>H({unmountInitialLoader:T.unmount,hooks:o}));let No=new P({permissions:n.permissionsInfo.permissions}),{builtEditor:Wo}=await Le({editorLoggers:m,editorModel:n,editorParams:g,editorPermissions:No,editorBaseHooks:o},e);return o.editorBuildAndRender.resolve(),x.appLoadingPhaseFinish("main-chunk"),Wo}import("./chunks/editor-vi-fonts.global.QIVCDU7M.js");window.santaBase="https://static.parastorage.com/services/santa/1.11783.0";yo({isInsideEditorX:!1,measureFrameRate:!0,shouldBiErrorsAndFedops:!0,shouldRender:!0});
//# sourceMappingURL=__MAIN__.EN6MIUDQ.js.map
